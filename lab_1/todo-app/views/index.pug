extends layout

block content
  h2 Список задач

  form(method="GET", action="/")
    select(name="status", onchange="this.form.submit()")
      option(value="all" selected=status=='all') Все
      option(value="active" selected=status=='active') Активные
      option(value="completed" selected=status=='completed') Выполненные

  ul
    each todo in todos
      li
        form(action=`/${todo.id}/toggle`, method="POST", style="display:inline")
          button(type="submit") #{todo.completed ? "✓" : "○"}

        span(style=`text-decoration: ${todo.completed ? "line-through" : "none"}`)
          | #{todo.title}

        form(action=`/${todo.id}/delete`, method="POST", style="display:inline")
          button(type="submit") Удалить
